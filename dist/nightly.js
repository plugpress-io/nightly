!function(){"use strict";function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class e{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t(this,"init",(()=>{const t=this.options,e="true"===this.ls.getItem("wpnightly"),n=null===this.ls.getItem("wpnightly"),s="1"===t.os_aware?this.osAware():"";if((!1!==e||"dark"===s&&n)&&this.toggle(),t.enabled_switch){const t=document.getElementById("wpnightly");this.button.addEventListener("click",(e=>{e.preventDefault();const n=document.querySelector(".wpn-switch-label");n.classList.contains("active")?(n.classList.remove("active"),t.removeAttribute("checked")):(n.classList.add("active"),t.setAttribute("checked",!0)),this.toggle()}))}this.frontend_css()})),t(this,"osAware",(()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),t(this,"addStyle",((t,e,n)=>{const s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.setAttribute("id",e),s.setAttribute("href","data:text/css;charset=UTF-8,"+encodeURIComponent(t)),"head"===n?document.head.appendChild(s):document.body.appendChild(s)})),t(this,"toggle",(()=>{const t=this.isActivated();document.documentElement.classList.toggle("wp-nightly-activated"),this.ls.setItem("wpnightly",!t)})),t(this,"createButton",(t=>{const e=this.options;console.log(e),this.addStyle("\n            .wp-nightly-switch {\n                --wp-nightly-primary-switch-color: #000000;\n                --wp-nightly-secondary-switch-color: #ffffff;\n            }\n        ","wp-nighly-toggle","head"),t.classList.add("wp-nightly-switch"),t.classList.add("wpn-ignore-css");const n=document.createElement("label");n.classList.add("wpn-switch-label"),n.classList.add("wpn-ignore-css"),n.classList.add(e.switch_style),"true"===this.ls.getItem("wpnightly")&&n.classList.add("active");const s=document.createElement("input");"true"===this.ls.getItem("wpnightly")?s.setAttribute("checked",!0):s.removeAttribute("checked"),s.type="checkbox",s.className="wpn-switch-checkbox",s.id="wpnightly";const i=document.createElement("span");i.className="wpn-switch-handle wpn-ignore-css",n.appendChild(s),n.appendChild(i),t.appendChild(n),document.body.insertBefore(t,document.body.firstChild)})),t(this,"isActivated",(()=>document.documentElement.classList.contains("wp-nightly-activated"))),t(this,"frontend_css",(()=>{const t=this.options.color_scheme,e=this.options.colors[t],n=`\n\n            html.wp-nightly-activated :not(a):not(img):not(.wpn-ignore-css) {\n                background-color:  ${e.body} !important;\n                color: ${e.texts} !important;\n                border-color: ${e.border} !important;\n            }\n\n            html.wp-nightly-activated a:not(.wpn-ignore-css), \n            html.wp-nightly-activated a *:not(.wpn-ignore-css){\n                color: ${e.links} !important;\n            }\n        `;this.addStyle(n,t,"head")})),this.options=e,this.ls=window.localStorage,e.enabled_switch){const t=document.createElement("div");this.createButton(t),this.button=t}this.linkTags=document.getElementsByTagName("a"),this.inputTags=document.getElementsByTagName("input"),this.buttons=document.getElementsByTagName("button")}}var n=wpnightly;const s={config(){n.options.enabled&&(window.WPNightly=new e(n.options),window.WPNightly.init())}};document.addEventListener("DOMContentLoaded",s.config)}();