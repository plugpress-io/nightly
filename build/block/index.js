(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,l=window.React,n=window.wp.blockEditor,o=window.wp.components,r=window.wp.element,a=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"nightly/toggle","version":"1.0.0","title":"Nightly","category":"widgets","icon":"admin-appearance","description":"A dark mode toggle button for your website.","keywords":["dark","mode","toggle","theme","nightly"],"textdomain":"nightly","attributes":{"toggleType":{"type":"string","default":"theme"},"mode":{"type":"string","default":"dark"},"showText":{"type":"boolean","default":true}},"supports":{"html":false,"align":["left","center","right"],"spacing":{"margin":true,"padding":true}}}');(0,e.registerBlockType)(a.name,{...a,edit:function({attributes:e,setAttributes:a}){const[i,g]=(0,r.useState)("light"),[s,h]=(0,r.useState)(e.mode||"dark"),c=(0,n.useBlockProps)({className:"nightly-toggle-block","data-nightly-theme":i,"data-nightly-mode":s}),d=()=>{g("light"===i?"dark":"light")};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(n.InspectorControls,null,(0,l.createElement)(o.PanelBody,{title:(0,t.__)("Toggle Settings","nightly"),initialOpen:!0},(0,l.createElement)(o.SelectControl,{label:(0,t.__)("Toggle Type","nightly"),value:e.toggleType||"theme",options:[{label:(0,t.__)("Theme Toggle (Light/Dark)","nightly"),value:"theme"},{label:(0,t.__)("Mode Toggle (Reader/Dark)","nightly"),value:"mode"}],onChange:e=>{a({toggleType:e})},help:(0,t.__)("Choose what the toggle controls","nightly")}),"mode"===e.toggleType&&(0,l.createElement)(o.SelectControl,{label:(0,t.__)("Default Mode","nightly"),value:e.mode||"dark",options:[{label:(0,t.__)("Reader Mode (Gentle)","nightly"),value:"reader"},{label:(0,t.__)("Dark Mode (Full)","nightly"),value:"dark"}],onChange:e=>{h(e),a({mode:e})},help:(0,t.__)("Reader mode provides gentle adjustments for comfortable reading, while dark mode provides full color conversion","nightly")}),(0,l.createElement)(o.ToggleControl,{label:(0,t.__)("Show Text Label","nightly"),checked:!1!==e.showText,onChange:e=>{a({showText:e})},help:(0,t.__)("Display text alongside the toggle switch","nightly")}))),(0,l.createElement)("div",{...c},(0,l.createElement)("div",{className:"nightly-block-preview"},(0,l.createElement)("p",{className:"nightly-block-description"},(0,t.__)("Preview your toggle button:","nightly")),(()=>{const n="nightly-toggle-button "+(e.showText?"with-text":"switch-only");return(0,l.createElement)("button",{type:"button",className:n,onClick:d,"aria-pressed":"dark"===i?"true":"false","aria-label":"theme"===e.toggleType?(0,t.__)("Toggle between light and dark theme","nightly"):(0,t.__)("Toggle between reader and dark mode","nightly")},(0,l.createElement)("span",{className:"nightly-toggle-switch "+("dark"===i?"is-checked":""),"aria-hidden":"true"},(0,l.createElement)("span",{className:"nightly-toggle-track"},(0,l.createElement)("span",{className:"nightly-toggle-thumb"},"theme"===e.toggleType?(0,l.createElement)(l.Fragment,null,(0,l.createElement)("svg",{className:"nightly-icon nightly-icon-sun",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},(0,l.createElement)("circle",{cx:"12",cy:"12",r:"4",stroke:"currentColor",strokeWidth:"2"}),(0,l.createElement)("path",{d:"M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 6.34L4.93 4.93M19.07 19.07l-1.41-1.41",stroke:"currentColor",strokeWidth:"2"})),(0,l.createElement)("svg",{className:"nightly-icon nightly-icon-moon",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},(0,l.createElement)("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z",stroke:"currentColor",strokeWidth:"2",fill:"currentColor"}))):(0,l.createElement)(l.Fragment,null,(0,l.createElement)("svg",{className:"nightly-icon nightly-icon-reader",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},(0,l.createElement)("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20",stroke:"currentColor",strokeWidth:"2"}),(0,l.createElement)("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z",stroke:"currentColor",strokeWidth:"2"})),(0,l.createElement)("svg",{className:"nightly-icon nightly-icon-dark",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},(0,l.createElement)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"currentColor"})))))),e.showText&&(0,l.createElement)("span",{className:"nightly-toggle-text"},"theme"===e.toggleType?(0,t.__)("Dark Mode","nightly"):"reader"===s?(0,t.__)("Reader Mode","nightly"):(0,t.__)("Dark Mode","nightly")),"mode"===e.toggleType&&(0,l.createElement)("span",{className:`nightly-mode-indicator mode-${s}`},"reader"===s?(0,t.__)("Reader","nightly"):(0,t.__)("Dark","nightly")),(0,l.createElement)("span",{className:"screen-reader-text"},(0,t.__)("Preview only - toggle to see appearance","nightly")))})(),(0,l.createElement)("p",{className:"nightly-block-help"},"theme"===e.toggleType?(0,t.__)("This button will toggle between light and dark themes on your website.","nightly"):(0,t.__)("This button will toggle between reader mode (gentle) and dark mode (full conversion).","nightly")))))},save:function({attributes:e}){const t=n.useBlockProps.save({className:"nightly-toggle-block"}),o=e.toggleType||"theme",r=!1!==e.showText,a=e.mode||"dark";return(0,l.createElement)("div",{...t},(()=>{const e="nightly-toggle-button "+(r?"with-text":"switch-only");return(0,l.createElement)("button",{type:"button",className:e,"data-nightly-toggle":o,"aria-pressed":"false","aria-label":"theme"===o?"Toggle between light and dark theme":"Toggle between reader and dark mode",title:"theme"===o?"Toggle dark theme":"Toggle mode"},(0,l.createElement)("span",{className:"nightly-toggle-switch","aria-hidden":"true"},(0,l.createElement)("span",{className:"nightly-toggle-track"},(0,l.createElement)("span",{className:"nightly-toggle-thumb"},"theme"===o?(0,l.createElement)(l.Fragment,null,(0,l.createElement)("svg",{className:"nightly-icon nightly-icon-sun",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("circle",{cx:"12",cy:"12",r:"4",stroke:"currentColor",strokeWidth:"2"}),(0,l.createElement)("path",{d:"M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 6.34L4.93 4.93M19.07 19.07l-1.41-1.41",stroke:"currentColor",strokeWidth:"2"})),(0,l.createElement)("svg",{className:"nightly-icon nightly-icon-moon",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z",stroke:"currentColor",strokeWidth:"2",fill:"currentColor"}))):(0,l.createElement)(l.Fragment,null,(0,l.createElement)("svg",{className:"nightly-icon nightly-icon-reader",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20",stroke:"currentColor",strokeWidth:"2"}),(0,l.createElement)("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z",stroke:"currentColor",strokeWidth:"2"})),(0,l.createElement)("svg",{className:"nightly-icon nightly-icon-dark",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"currentColor"})))))),r&&(0,l.createElement)("span",{className:"nightly-toggle-text"},"theme"===o?"Dark Mode":"Toggle Mode"),"mode"===o&&(0,l.createElement)("span",{className:`nightly-mode-indicator mode-${a}`},"reader"===a?"Reader":"Dark"),(0,l.createElement)("span",{className:"screen-reader-text nightly-sr-state"},"Current: light theme, ",a," mode"))})())}})})();