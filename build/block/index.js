(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,l=window.React,n=window.wp.blockEditor,a=window.wp.components,o=window.wp.element,r=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"nightly/toggle","version":"1.0.0","title":"Nightly","category":"widgets","icon":"admin-appearance","description":"A dark mode toggle button for your website.","keywords":["dark","mode","toggle","theme","nightly"],"textdomain":"nightly","attributes":{"buttonText":{"type":"string","default":"Toggle Dark Mode"},"showIcon":{"type":"boolean","default":true},"alignment":{"type":"string","default":"left"},"customClassName":{"type":"string","default":""}},"supports":{"html":false,"align":["left","center","right"],"spacing":{"margin":true,"padding":true},"typography":{"fontSize":true,"lineHeight":true},"color":{"text":true,"background":true}}}');(0,e.registerBlockType)(r.name,{...r,edit:function({attributes:e,setAttributes:r}){const{buttonText:i,showIcon:s,alignment:c,customClassName:g}=e,[h,m]=(0,o.useState)(!1),d=(0,n.useBlockProps)({className:`nightly-toggle-block align-${c} ${g}`.trim()});return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(n.BlockControls,null,(0,l.createElement)(n.AlignmentToolbar,{value:c,onChange:e=>{r({alignment:e})}})),(0,l.createElement)(n.InspectorControls,null,(0,l.createElement)(a.PanelBody,{title:(0,t.__)("Toggle Settings","nightly"),initialOpen:!0},(0,l.createElement)(a.TextControl,{label:(0,t.__)("Button Text","nightly"),value:i,onChange:e=>{r({buttonText:e})},help:(0,t.__)("Text displayed on the toggle button","nightly")}),(0,l.createElement)(a.ToggleControl,{label:(0,t.__)("Show Icon","nightly"),checked:s,onChange:e=>{r({showIcon:e})},help:(0,t.__)("Display an icon alongside the button text","nightly")}))),(0,l.createElement)("div",{...d},(0,l.createElement)(a.Button,{className:"nightly-toggle-button "+(h?"is-toggled":""),onClick:()=>{m(!h)},role:"switch","aria-pressed":h,"aria-label":(0,t.__)("Toggle dark mode preview (currently %s mode)","nightly").replace("%s",h?"dark":"light"),"aria-keyshortcuts":"Enter Space",tabIndex:"0"},s&&(0,l.createElement)("div",{className:"nightly-toggle-switch "+(h?"is-checked":""),"aria-hidden":"true"},(0,l.createElement)("div",{className:"nightly-toggle-track"},(0,l.createElement)("div",{className:"nightly-toggle-thumb"},(0,l.createElement)("svg",{className:"nightly-icon nightly-icon-sun",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("circle",{cx:"12",cy:"12",r:"4",stroke:"currentColor",strokeWidth:"2"}),(0,l.createElement)("path",{d:"M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 6.34L4.93 4.93M19.07 19.07l-1.41-1.41",stroke:"currentColor",strokeWidth:"2"})),(0,l.createElement)("svg",{className:"nightly-icon nightly-icon-moon",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z",stroke:"currentColor",strokeWidth:"2",fill:"currentColor"}))))),(0,l.createElement)("span",{className:"nightly-toggle-text"},i),(0,l.createElement)("span",{className:"screen-reader-text"},(0,t.__)("Editor preview - actual functionality available on frontend","nightly"))),(0,l.createElement)("div",{className:"nightly-editor-notice",role:"note","aria-live":"polite"},(0,l.createElement)("small",null,(0,t.__)("Preview only - actual toggle will work on frontend","nightly")))))},save:function({attributes:e}){const{buttonText:a,showIcon:o,alignment:r,customClassName:i}=e,s=n.useBlockProps.save({className:`nightly-toggle-block align-${r} ${i}`.trim()});return(0,l.createElement)("div",{...s},(0,l.createElement)("button",{className:"nightly-toggle-button",type:"button",role:"switch","aria-pressed":"false","aria-label":(0,t.__)("Toggle between light and dark mode (currently light mode)","nightly"),"aria-keyshortcuts":"Enter Space",tabIndex:"0","data-nightly-toggle":"true","data-light-text":(0,t.__)("Switch to dark mode","nightly"),"data-dark-text":(0,t.__)("Switch to light mode","nightly")},o&&(0,l.createElement)("div",{className:"nightly-toggle-switch","aria-hidden":"true"},(0,l.createElement)("div",{className:"nightly-toggle-track"},(0,l.createElement)("div",{className:"nightly-toggle-thumb"},(0,l.createElement)("svg",{className:"nightly-icon nightly-icon-sun",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("circle",{cx:"12",cy:"12",r:"4",stroke:"currentColor",strokeWidth:"2"}),(0,l.createElement)("path",{d:"M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 6.34L4.93 4.93M19.07 19.07l-1.41-1.41",stroke:"currentColor",strokeWidth:"2"})),(0,l.createElement)("svg",{className:"nightly-icon nightly-icon-moon",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z",stroke:"currentColor",strokeWidth:"2",fill:"currentColor"}))))),(0,l.createElement)("span",{className:"nightly-toggle-text"},a),(0,l.createElement)("span",{className:"screen-reader-text nightly-sr-state"},(0,t.__)("Current theme: light","nightly")),(0,l.createElement)("span",{className:"screen-reader-text nightly-toggle-description"},(0,t.__)("Switches between light and dark color schemes for better readability","nightly"))))}})})();