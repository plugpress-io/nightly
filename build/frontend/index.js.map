{"version":3,"file":"frontend/index.js","mappings":"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","sources":["webpack://nightly/./src/js/frontend/index.js","webpack://nightly/./src/js/shared/NightlyCore.js","webpack://nightly/./src/scss/frontend.scss?5b7f","webpack://nightly/webpack/bootstrap","webpack://nightly/webpack/runtime/define property getters","webpack://nightly/webpack/runtime/harmony module decorator","webpack://nightly/webpack/runtime/hasOwnProperty shorthand","webpack://nightly/webpack/runtime/make namespace object","webpack://nightly/webpack/before-startup","webpack://nightly/webpack/startup","webpack://nightly/webpack/after-startup"],"sourcesContent":["import '../../scss/frontend.scss';\nimport { NightlyCore } from '../shared/NightlyCore.js';\n\nclass NightlyFrontend {\n\tconstructor(options = {}) {\n\t\tthis.options = options;\n\t\tthis.core = null;\n\t\tthis.floatingToggle = null;\n\n\t\tthis.init();\n\t}\n\n\tinit() {\n\t\tthis.core = new NightlyCore(this.options);\n\n\t\tthis.maybeCreateFloatingToggle();\n\n\t\tdocument.addEventListener('nightlyChange', (event) => {\n\t\t\tthis.handleCoreChange(event.detail);\n\t\t});\n\t}\n\n\thandleCoreChange(detail) {\n\t\tif (this.floatingToggle) {\n\t\t\tthis.updateFloatingToggle(detail);\n\t\t}\n\t}\n\n\tupdateFloatingToggle(detail) {\n\t\tconst { theme } = detail;\n\t\tconst settings = window.nightlySettings || {};\n\t\tconst baseColor = settings.floatingBgColor || '#333333';\n\t\tconst activeColor = settings.floatingBgColorActive || '#79c0ff';\n\n\t\tthis.floatingToggle.setAttribute(\n\t\t\t'aria-pressed',\n\t\t\ttheme === 'dark' ? 'true' : 'false'\n\t\t);\n\n\t\t// Update background color\n\t\tif (theme === 'dark') {\n\t\t\tthis.floatingToggle.style.background = activeColor;\n\t\t} else {\n\t\t\tthis.floatingToggle.style.background = baseColor;\n\t\t}\n\n\t\t// Update icon if using sun-moon variant\n\t\tif (settings.floatingIconType === 'sun-moon') {\n\t\t\tconst isDark = theme === 'dark';\n\t\t\tif (isDark) {\n\t\t\t\t// Moon icon for dark mode\n\t\t\t\tthis.floatingToggle.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\" data-slot=\"icon\" class=\"size-5\"><path fill-rule=\"evenodd\" d=\"M7.455 2.004a.75.75 0 0 1 .26.77 7 7 0 0 0 9.958 7.967.75.75 0 0 1 1.067.853A8.5 8.5 0 1 1 6.647 1.921a.75.75 0 0 1 .808.083Z\" clip-rule=\"evenodd\"></path></svg>`;\n\t\t\t} else {\n\t\t\t\t// Sun icon for light mode\n\t\t\t\tthis.floatingToggle.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\" data-slot=\"icon\" class=\"size-5\"><path d=\"M10 2a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 10 2ZM10 15a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 10 15ZM10 7a3 3 0 1 0 0 6 3 3 0 0 0 0-6ZM15.657 5.404a.75.75 0 1 0-1.06-1.06l-1.061 1.06a.75.75 0 0 0 1.06 1.06l1.06-1.06ZM6.464 14.596a.75.75 0 1 0-1.06-1.06l-1.06 1.06a.75.75 0 0 0 1.06 1.06l1.06-1.06ZM18 10a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 18 10ZM5 10a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 5 10ZM14.596 15.657a.75.75 0 0 0 1.06-1.06l-1.06-1.061a.75.75 0 1 0-1.06 1.06l1.06 1.06ZM5.404 6.464a.75.75 0 0 0 1.06-1.06l-1.06-1.06a.75.75 0 1 0-1.061 1.06l1.06 1.06Z\"></path></svg>`;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Check if floating toggle should be created\n\t */\n\tmaybeCreateFloatingToggle() {\n\t\tconst placeholder = document.getElementById(\n\t\t\t'nightly-floating-toggle-placeholder'\n\t\t);\n\t\tconst settings = window.nightlySettings || {};\n\n\t\t// Check if placeholder exists with auto-inject enabled\n\t\tif (\n\t\t\tplaceholder &&\n\t\t\tplaceholder.getAttribute('data-auto-inject') === 'true'\n\t\t) {\n\t\t\tthis.createFloatingToggle();\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback: check if auto-inject is enabled in settings\n\t\tif (settings.autoInject === true) {\n\t\t\tthis.createFloatingToggle();\n\t\t\treturn;\n\t\t}\n\t}\n\n\t/**\n\t * Create floating toggle button\n\t */\n\tcreateFloatingToggle() {\n\t\tconst settings = window.nightlySettings || {};\n\t\tconst placeholder = document.getElementById(\n\t\t\t'nightly-floating-toggle-placeholder'\n\t\t);\n\n\t\t// Try to get settings from placeholder first, then fall back to global settings\n\t\tlet placeholderSettings = {};\n\t\tif (placeholder && placeholder.getAttribute('data-settings')) {\n\t\t\ttry {\n\t\t\t\tplaceholderSettings = JSON.parse(\n\t\t\t\t\tplaceholder.getAttribute('data-settings')\n\t\t\t\t);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn(\n\t\t\t\t\t'Nightly: Failed to parse placeholder settings:',\n\t\t\t\t\te\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// Get all design settings with fallbacks\n\t\tconst position =\n\t\t\tplaceholderSettings.floating_position ||\n\t\t\tsettings.floatingPosition ||\n\t\t\t'bottom-right';\n\t\tconst buttonStyle = settings.floatingButtonStyle || 'rounded';\n\t\tconst buttonSize = settings.floatingButtonSize || 'medium';\n\t\tconst bgColor =\n\t\t\tplaceholderSettings.floating_bg_color ||\n\t\t\tsettings.floatingBgColor ||\n\t\t\t'#333333';\n\t\tconst bgColorHover = settings.floatingBgColorHover || '#555555';\n\t\tconst bgColorActive = settings.floatingBgColorActive || '#79c0ff';\n\t\tconst iconColor = settings.floatingIconColor || '#ffffff';\n\t\tconst iconColorHover = settings.floatingIconColorHover || '#ffffff';\n\t\tconst borderColor = settings.floatingBorderColor || 'transparent';\n\t\tconst borderWidth = settings.floatingBorderWidth || 0;\n\t\tconst borderRadius = settings.floatingBorderRadius || 50;\n\t\tconst iconSize = settings.floatingIconSize || 24;\n\t\tconst iconType = settings.floatingIconType || 'moon';\n\t\tconst customIcon = settings.floatingCustomIcon || 'ðŸŒ™';\n\t\tconst paddingTop = settings.floatingPaddingTop || 12;\n\t\tconst paddingBottom = settings.floatingPaddingBottom || 12;\n\t\tconst paddingLeft = settings.floatingPaddingLeft || 16;\n\t\tconst paddingRight = settings.floatingPaddingRight || 16;\n\t\tconst boxShadow =\n\t\t\tsettings.floatingBoxShadow || '0 2px 4px rgba(0,0,0,0.1)';\n\t\tconst boxShadowHover =\n\t\t\tsettings.floatingBoxShadowHover || '0 4px 8px rgba(0,0,0,0.15)';\n\t\tconst width =\n\t\t\tplaceholderSettings.floating_width ||\n\t\t\tsettings.floatingWidth ||\n\t\t\t'3.5rem';\n\t\tconst height =\n\t\t\tplaceholderSettings.floating_height ||\n\t\t\tsettings.floatingHeight ||\n\t\t\t'3.5rem';\n\n\t\t// Determine which icon to display\n\t\tlet iconToShow = 'ðŸŒ™';\n\t\tif (iconType === 'custom') {\n\t\t\ticonToShow = customIcon;\n\t\t} else if (iconType === 'sun') {\n\t\t\ticonToShow = 'â˜€ï¸';\n\t\t} else if (iconType === 'sun-moon') {\n\t\t\t// For sun-moon, we'll use SVG icons and update based on theme\n\t\t\ticonToShow = this.createSunMoonIcon();\n\t\t}\n\n\t\t// Create simple floating button\n\t\tthis.floatingToggle = document.createElement('button');\n\t\tthis.floatingToggle.innerHTML = iconToShow;\n\t\tthis.floatingToggle.setAttribute('aria-label', 'Toggle dark mode');\n\t\tthis.floatingToggle.setAttribute('aria-pressed', 'false');\n\n\t\t// Add floating styles with all design options\n\t\tthis.floatingToggle.className = `nightly-floating-toggle position-${position} nightly-button-${buttonStyle} nightly-button-${buttonSize}`;\n\t\tthis.floatingToggle.style.cssText = `\n\t\t\tposition: fixed;\n\t\t\tz-index: 9999;\n\t\t\twidth: ${width};\n\t\t\theight: ${height};\n\t\t\tpadding: ${paddingTop}px ${paddingRight}px ${paddingBottom}px ${paddingLeft}px;\n\t\t\tbackground: ${bgColor};\n\t\t\tcolor: ${iconColor};\n\t\t\tborder: ${borderWidth}px solid ${borderColor};\n\t\t\tborder-radius: ${borderRadius}%;\n\t\t\tcursor: pointer;\n\t\t\ttransition: all 0.2s ease;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tfont-size: ${iconSize}px;\n\t\t\tbox-shadow: ${boxShadow};\n\t\t\t${position.includes('bottom') ? 'bottom: 20px;' : 'top: 20px;'}\n\t\t\t${position.includes('right') ? 'right: 20px;' : 'left: 20px;'}\n\t\t`;\n\n\t\t// Add hover styles\n\t\tconst hoverStyles = `\n\t\t\t.nightly-floating-toggle:hover {\n\t\t\t\tbackground-color: ${bgColorHover} !important;\n\t\t\t\tcolor: ${iconColorHover} !important;\n\t\t\t\tbox-shadow: ${boxShadowHover} !important;\n\t\t\t}\n\t\t`;\n\n\t\t// Add styles to head if not already present\n\t\tif (!document.getElementById('nightly-floating-toggle-styles')) {\n\t\t\tconst styleElement = document.createElement('style');\n\t\t\tstyleElement.id = 'nightly-floating-toggle-styles';\n\t\t\tstyleElement.textContent = hoverStyles;\n\t\t\tdocument.head.appendChild(styleElement);\n\t\t}\n\n\t\t// Add to page\n\t\tdocument.body.appendChild(this.floatingToggle);\n\n\t\t// Add click event handler\n\t\tthis.floatingToggle.addEventListener('click', () => {\n\t\t\tthis.toggleTheme();\n\t\t});\n\n\t\t// Listen for theme changes to update the toggle\n\t\tdocument.addEventListener('nightlyChange', (event) => {\n\t\t\tthis.updateFloatingToggle({\n\t\t\t\ttheme: event.detail.theme,\n\t\t\t\tmode: event.detail.mode,\n\t\t\t});\n\t\t});\n\n\t\t// Also listen on window since NightlyCore dispatches there\n\t\twindow.addEventListener('nightlyChange', (event) => {\n\t\t\tthis.updateFloatingToggle({\n\t\t\t\ttheme: event.detail.theme,\n\t\t\t\tmode: event.detail.mode,\n\t\t\t});\n\t\t});\n\n\t\t// Update initial state\n\t\tthis.updateFloatingToggle({\n\t\t\ttheme: this.core.getCurrentTheme(),\n\t\t\tmode: this.core.getCurrentMode(),\n\t\t});\n\t}\n\n\t/**\n\t * Get current theme\n\t */\n\tgetCurrentTheme() {\n\t\treturn this.core ? this.core.getCurrentTheme() : 'light';\n\t}\n\n\t/**\n\t * Get current mode\n\t */\n\tgetCurrentMode() {\n\t\treturn this.core ? this.core.getCurrentMode() : 'dark';\n\t}\n\n\t/**\n\t * Toggle theme\n\t */\n\ttoggleTheme() {\n\t\tif (this.core) {\n\t\t\tthis.core.toggleTheme();\n\t\t}\n\t}\n\n\t/**\n\t * Toggle mode\n\t */\n\ttoggleMode() {\n\t\tif (this.core) {\n\t\t\tthis.core.toggleMode();\n\t\t}\n\t}\n\n\t/**\n\t * Clean up resources\n\t */\n\tcleanup() {\n\t\tif (this.core) {\n\t\t\tthis.core.cleanup();\n\t\t\tthis.core = null;\n\t\t}\n\n\t\tif (this.floatingToggle) {\n\t\t\tthis.floatingToggle.remove();\n\t\t\tthis.floatingToggle = null;\n\t\t}\n\t}\n\n\tcreateSunMoonIcon() {\n\t\tconst isDark = this.core.getCurrentTheme() === 'dark';\n\n\t\tif (isDark) {\n\t\t\t// Moon icon for dark mode\n\t\t\treturn `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\" data-slot=\"icon\" class=\"size-5\"><path fill-rule=\"evenodd\" d=\"M7.455 2.004a.75.75 0 0 1 .26.77 7 7 0 0 0 9.958 7.967.75.75 0 0 1 1.067.853A8.5 8.5 0 1 1 6.647 1.921a.75.75 0 0 1 .808.083Z\" clip-rule=\"evenodd\"></path></svg>`;\n\t\t} else {\n\t\t\t// Sun icon for light mode\n\t\t\treturn `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\" data-slot=\"icon\" class=\"size-5\"><path d=\"M10 2a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 10 2ZM10 15a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 10 15ZM10 7a3 3 0 1 0 0 6 3 3 0 0 0 0-6ZM15.657 5.404a.75.75 0 1 0-1.06-1.06l-1.061 1.06a.75.75 0 0 0 1.06 1.06l1.06-1.06ZM6.464 14.596a.75.75 0 1 0-1.06-1.06l-1.06 1.06a.75.75 0 0 0 1.06 1.06l1.06-1.06ZM18 10a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 18 10ZM5 10a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 5 10ZM14.596 15.657a.75.75 0 0 0 1.06-1.06l-1.06-1.061a.75.75 0 1 0-1.06 1.06l1.06 1.06ZM5.404 6.464a.75.75 0 0 0 1.06-1.06l-1.06-1.06a.75.75 0 1 0-1.061 1.06l1.06 1.06Z\"></path></svg>`;\n\t\t}\n\t}\n}\n\n// Initialize when DOM is ready\nlet nightlyFrontend;\n\nfunction initNightly() {\n\t// Get options from global nightlySettings object (localized from PHP)\n\tconst settings = window.nightlySettings || {};\n\n\t// Check localStorage for saved preferences (these take priority over PHP settings)\n\tconst savedMode = localStorage.getItem('nightly-mode-preference');\n\tconst savedTheme = localStorage.getItem('nightly-theme-preference');\n\n\t// Prepare options for the core\n\tconst coreOptions = {\n\t\trespectSystemPreference: settings.respectSystemPreference !== false,\n\t\tmode: savedMode || settings.mode || 'manual', // Use saved mode first, then PHP setting, then default\n\t\ttransitionDuration: Math.max(\n\t\t\t0,\n\t\t\tMath.min(1000, settings.transitionDuration || 200)\n\t\t),\n\t\tignoreSelectors: settings.ignoreSelectors || '',\n\n\t\t// Auto mode settings (filter-based dark mode)\n\t\tauto: {\n\t\t\tintensity: Math.max(0, Math.min(1, settings.autoIntensity || 0.05)),\n\t\t\tcontrast: Math.max(0.5, Math.min(2, settings.autoContrast || 1.15)),\n\t\t\tbrightness: Math.max(\n\t\t\t\t0.3,\n\t\t\t\tMath.min(1.5, settings.autoBrightness || 0.98)\n\t\t\t),\n\t\t\tsepia: Math.max(0, Math.min(1, settings.autoSepia || 0.15)),\n\t\t},\n\n\t\t// Custom mode uses semantic color tokens (no filter settings needed)\n\t};\n\n\t// Create frontend instance\n\tnightlyFrontend = new NightlyFrontend(coreOptions);\n\n\t// If we have dashboard settings but no localStorage preferences, sync them\n\tif (settings.mode && !savedMode) {\n\t\tlocalStorage.setItem('nightly-mode-preference', settings.mode);\n\t}\n\n\tif (settings.theme && !savedTheme) {\n\t\tlocalStorage.setItem('nightly-theme-preference', settings.theme);\n\t}\n\n\t// Make globally accessible for external integration\n\twindow.nightlyFrontend = nightlyFrontend;\n\twindow.nightlyCore = nightlyFrontend.core;\n\n\t// Listen for dashboard setting changes and sync localStorage\n\twindow.addEventListener('nightlySettingsChanged', (event) => {\n\t\tconst { settings: newSettings } = event.detail;\n\n\t\t// Update localStorage with new settings\n\t\tif (newSettings.mode) {\n\t\t\tlocalStorage.setItem('nightly-mode-preference', newSettings.mode);\n\t\t}\n\n\t\tif (newSettings.theme) {\n\t\t\tlocalStorage.setItem('nightly-theme-preference', newSettings.theme);\n\t\t}\n\n\t\t// Apply the new settings immediately\n\t\tif (nightlyFrontend && nightlyFrontend.core) {\n\t\t\tif (newSettings.mode) {\n\t\t\t\tnightlyFrontend.core.setMode(newSettings.mode);\n\t\t\t}\n\t\t\tif (newSettings.theme) {\n\t\t\t\tnightlyFrontend.core.setTheme(newSettings.theme);\n\t\t\t}\n\t\t}\n\t});\n}\n\n// Initialize when DOM is ready\nif (document.readyState === 'loading') {\n\tdocument.addEventListener('DOMContentLoaded', initNightly);\n} else {\n\tinitNightly();\n}\n\n// Export for module systems and external integration\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = { NightlyFrontend, NightlyCore };\n}\n\nwindow.Nightly = {\n\tFrontend: NightlyFrontend,\n\tCore: NightlyCore,\n};\n","/**\n * Nightly Core - Simple Dark Mode\n */\nexport class NightlyCore {\n\tconstructor(options = {}) {\n\t\tthis.themes = {\n\t\t\tLIGHT: 'light',\n\t\t\tDARK: 'dark',\n\t\t};\n\n\t\tthis.modes = {\n\t\t\tAUTO: 'auto',\n\t\t\tMANUAL: 'manual',\n\t\t};\n\n\t\tthis.options = {\n\t\t\trespectSystemPreference: true,\n\t\t\tmode: 'manual',\n\t\t\ttransitionDuration: 200,\n\t\t\tauto: {\n\t\t\t\tintensity: 0.05,\n\t\t\t\tcontrast: 1.15,\n\t\t\t\tbrightness: 0.98,\n\t\t\t\tsepia: 0.15,\n\t\t\t},\n\t\t\t...options,\n\t\t};\n\n\t\tthis.initialize();\n\t}\n\n\tinitialize() {\n\t\t// Ensure DOM is ready before proceeding\n\t\tif (document.readyState === 'loading') {\n\t\t\tdocument.addEventListener('DOMContentLoaded', () => {\n\t\t\t\tthis.initializeCore();\n\t\t\t});\n\t\t} else {\n\t\t\tthis.initializeCore();\n\t\t}\n\t}\n\n\tinitializeCore() {\n\t\tthis.loadSavedSettings();\n\t\tthis.setupDynamicStyleInjection();\n\t\tthis.setupSystemPreferenceListener();\n\t\tthis.bindEvents();\n\n\t\t// Add a fallback check to ensure theme persistence\n\t\tsetTimeout(() => {\n\t\t\tthis.verifyThemePersistence();\n\t\t}, 100);\n\t}\n\n\tverifyThemePersistence() {\n\t\tconst savedTheme = localStorage.getItem('nightly-theme-preference');\n\t\tconst currentTheme = this.getCurrentTheme();\n\n\t\t// If there's a mismatch, restore the saved theme\n\t\tif (savedTheme && savedTheme !== currentTheme) {\n\t\t\tthis.setTheme(savedTheme);\n\t\t}\n\t}\n\n\tloadSavedSettings() {\n\t\tconst savedTheme = this.getSavedTheme();\n\t\tconst savedMode = this.getSavedMode();\n\n\t\t// Set mode FIRST to avoid double CSS application\n\t\tthis.setMode(savedMode);\n\n\t\t// Then set theme (which will apply styles with the correct mode)\n\t\tthis.setTheme(savedTheme);\n\t}\n\n\tgetSavedTheme() {\n\t\tconst saved = localStorage.getItem('nightly-theme-preference');\n\n\t\t// If user has saved a theme preference, use it regardless of system preference\n\t\tif (saved) {\n\t\t\treturn saved;\n\t\t}\n\n\t\t// Only use system preference if no saved theme exists\n\t\tif (this.options.respectSystemPreference) {\n\t\t\tconst systemPref = this.getSystemPreference();\n\t\t\treturn systemPref;\n\t\t}\n\n\t\treturn this.themes.LIGHT;\n\t}\n\n\tgetSavedMode() {\n\t\tconst saved = localStorage.getItem('nightly-mode-preference');\n\t\tconst mode = saved || this.options.mode;\n\t\treturn mode;\n\t}\n\n\tgetSystemPreference() {\n\t\tif (\n\t\t\twindow.matchMedia &&\n\t\t\twindow.matchMedia('(prefers-color-scheme: dark)').matches\n\t\t) {\n\t\t\treturn this.themes.DARK;\n\t\t}\n\t\treturn this.themes.LIGHT;\n\t}\n\n\tsaveTheme(theme) {\n\t\tlocalStorage.setItem('nightly-theme-preference', theme);\n\t}\n\n\tsaveMode(mode) {\n\t\tlocalStorage.setItem('nightly-mode-preference', mode);\n\t}\n\n\tgetCurrentTheme() {\n\t\treturn (\n\t\t\tdocument.documentElement.getAttribute('data-nightly-theme') ||\n\t\t\tthis.themes.LIGHT\n\t\t);\n\t}\n\n\tgetCurrentMode() {\n\t\treturn (\n\t\t\tdocument.documentElement.getAttribute('data-nightly-mode') ||\n\t\t\tthis.modes.MANUAL\n\t\t);\n\t}\n\n\tsetTheme(theme) {\n\t\t// Set the attribute first\n\t\tdocument.documentElement.setAttribute('data-nightly-theme', theme);\n\n\t\t// Always save theme to localStorage\n\t\tthis.saveTheme(theme);\n\n\t\t// Only apply styles if mode is also set (to avoid applying styles twice)\n\t\tconst currentMode = this.getCurrentMode();\n\t\tif (currentMode && theme === this.themes.DARK) {\n\t\t\tthis.applyDynamicStyles();\n\t\t} else if (theme === this.themes.DARK) {\n\t\t\t// styles will be applied when mode is set\n\t\t} else {\n\t\t\t// Remove dark styles if switching to light\n\t\t\tthis.removeDarkStyles();\n\t\t}\n\n\t\t// Dispatch change event\n\t\tthis.dispatchChangeEvent();\n\t}\n\n\tsetMode(mode) {\n\t\tdocument.documentElement.setAttribute('data-nightly-mode', mode);\n\n\t\t// Always save mode to localStorage\n\t\tthis.saveMode(mode);\n\n\t\t// Apply styles if theme is dark (regardless of previous mode)\n\t\tif (this.getCurrentTheme() === this.themes.DARK) {\n\t\t\tthis.applyDynamicStyles();\n\t\t}\n\n\t\tthis.dispatchChangeEvent();\n\t}\n\n\ttoggleTheme() {\n\t\tconst currentTheme = this.getCurrentTheme();\n\t\tconst newTheme =\n\t\t\tcurrentTheme === this.themes.LIGHT\n\t\t\t\t? this.themes.DARK\n\t\t\t\t: this.themes.LIGHT;\n\n\t\tthis.setTheme(newTheme);\n\t}\n\n\ttoggleMode() {\n\t\tconst currentMode = this.getCurrentMode();\n\t\tconst newMode =\n\t\t\tcurrentMode === this.modes.AUTO\n\t\t\t\t? this.modes.MANUAL\n\t\t\t\t: this.modes.AUTO;\n\n\t\tthis.setMode(newMode);\n\t}\n\n\tdispatchChangeEvent() {\n\t\tconst event = new CustomEvent('nightlyChange', {\n\t\t\tdetail: {\n\t\t\t\ttheme: this.getCurrentTheme(),\n\t\t\t\tmode: this.getCurrentMode(),\n\t\t\t},\n\t\t});\n\t\twindow.dispatchEvent(event);\n\t}\n\n\tbindEvents() {\n\t\tdocument.addEventListener('click', (e) => {\n\t\t\tconst toggle = e.target.closest('[data-nightly-toggle]');\n\t\t\tif (!toggle) return;\n\n\t\t\te.preventDefault();\n\t\t\tconst toggleType = toggle.getAttribute('data-nightly-toggle');\n\n\t\t\tif (toggleType === 'theme') {\n\t\t\t\tthis.toggleTheme();\n\t\t\t} else if (toggleType === 'mode') {\n\t\t\t\tthis.toggleMode();\n\t\t\t}\n\t\t});\n\t}\n\n\tsetupSystemPreferenceListener() {\n\t\tif (!window.matchMedia) return;\n\n\t\tconst mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n\t\tconst handleChange = (e) => {\n\t\t\tif (\n\t\t\t\tthis.options.respectSystemPreference &&\n\t\t\t\t!localStorage.getItem('nightly-theme-preference')\n\t\t\t) {\n\t\t\t\tthis.setTheme(e.matches ? this.themes.DARK : this.themes.LIGHT);\n\t\t\t}\n\t\t};\n\n\t\tif (mediaQuery.addEventListener) {\n\t\t\tmediaQuery.addEventListener('change', handleChange);\n\t\t}\n\t}\n\n\tsetupDynamicStyleInjection() {\n\t\t// Remove existing style element if it exists\n\t\tconst existing = document.getElementById('nightly-dynamic-styles');\n\t\tif (existing) {\n\t\t\texisting.remove();\n\t\t}\n\n\t\t// Create new style element\n\t\tthis.styleElement = document.createElement('style');\n\t\tthis.styleElement.id = 'nightly-dynamic-styles';\n\n\t\t// Make sure document.head exists\n\t\tif (document.head) {\n\t\t\tdocument.head.appendChild(this.styleElement);\n\t\t} else {\n\t\t\t// If head isn't ready, wait for DOM\n\t\t\tif (document.readyState === 'loading') {\n\t\t\t\tdocument.addEventListener('DOMContentLoaded', () => {\n\t\t\t\t\tdocument.head.appendChild(this.styleElement);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Try again immediately\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (document.head) {\n\t\t\t\t\t\tdocument.head.appendChild(this.styleElement);\n\t\t\t\t\t}\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\tapplyDynamicStyles() {\n\t\tconst mode = this.getCurrentMode();\n\t\tconst theme = this.getCurrentTheme();\n\t\tconst css = this.generateDynamicCSS(mode);\n\n\t\t// Make sure styleElement exists before using it\n\t\tif (!this.styleElement) {\n\t\t\tthis.setupDynamicStyleInjection();\n\t\t}\n\n\t\t// Apply CSS with error handling\n\t\tif (this.styleElement) {\n\t\t\ttry {\n\t\t\t\tthis.styleElement.textContent = css;\n\t\t\t} catch (error) {\n\t\t\t\t// Try alternative method\n\t\t\t\tthis.styleElement.innerHTML = css;\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.error('Nightly: Could not create style element');\n\t\t}\n\t}\n\n\tgenerateDynamicCSS(mode) {\n\t\tif (mode === this.modes.AUTO) {\n\t\t\tconst settings = this.options.auto;\n\t\t\tconst { intensity, contrast, brightness, sepia } = settings;\n\t\t\treturn `\n\t\t\t\thtml[data-nightly-theme=\"dark\"][data-nightly-mode=\"auto\"] {\n\t\t\t\t\tfilter: invert(${intensity}) contrast(${contrast}) brightness(${brightness}) sepia(${sepia});\n\t\t\t\t}\n\t\t\t\thtml[data-nightly-theme=\"dark\"][data-nightly-mode=\"auto\"] img,\n\t\t\t\thtml[data-nightly-theme=\"dark\"][data-nightly-mode=\"auto\"] video {\n\t\t\t\t\tfilter: invert(${intensity}) contrast(${1 / contrast}) brightness(${\n\t\t\t\t\t\t1 / brightness\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t`;\n\t\t} else {\n\t\t\t// Super Specific Dark Mode - Override Everything\n\t\t\treturn `\n\t\t\t\thtml[data-nightly-theme=\"dark\"] {\n\t\t\t\t\tcolor-scheme: dark !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\thtml[data-nightly-theme=\"dark\"] body,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] body.astra-theme,\n\t\t\t\thtml[data-nightly-theme=\"dark\"].astra-theme body {\n\t\t\t\t\tbackground: #0d1117 !important;\n\t\t\t\t\tbackground-color: #0d1117 !important;\n\t\t\t\t\tcolor: #e6edf3 !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\thtml[data-nightly-theme=\"dark\"] *,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] h1,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] h2,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] h3,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] h4,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] h5,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] h6,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] p,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] span,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] div,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] li,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] .entry-title,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] .entry-content {\n\t\t\t\t\tcolor: #e6edf3 !important;\n\t\t\t\t\tbackground: transparent !important;\n\t\t\t\t\tbackground-color: transparent !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\thtml[data-nightly-theme=\"dark\"] a,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] .entry-title a {\n\t\t\t\t\tcolor: #79c0ff !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\thtml[data-nightly-theme=\"dark\"] a:hover,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] .entry-title a:hover {\n\t\t\t\t\tcolor: #a5d6ff !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\thtml[data-nightly-theme=\"dark\"] .site-header,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] .site-content,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] .site-footer,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] .ast-container,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] article,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] .ast-article-post,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] .ast-article-inner,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] .post-content,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] #content,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] #primary,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] .content-area,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] .site-main,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] #main {\n\t\t\t\t\tbackground: #0d1117 !important;\n\t\t\t\t\tbackground-color: #0d1117 !important;\n\t\t\t\t\tcolor: #e6edf3 !important;\n\t\t\t\t\tborder: none !important;\n\t\t\t\t\tbox-shadow: none !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\thtml[data-nightly-theme=\"dark\"] .nightly-ignore,\n\t\t\t\thtml[data-nightly-theme=\"dark\"] .nightly-ignore * {\n\t\t\t\t\tbackground: initial !important;\n\t\t\t\t\tcolor: initial !important;\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\t}\n\n\tremoveDarkStyles() {\n\t\t// Remove the style element that contains dark mode styles\n\t\tif (this.styleElement) {\n\t\t\tthis.styleElement.textContent = '';\n\t\t}\n\t}\n\n\tcreateToggleButton(options = {}) {\n\t\tconst {\n\t\t\ttoggleType = 'theme',\n\t\t\tshowText = true,\n\t\t\tmode = 'manual',\n\t\t} = options;\n\n\t\tconst button = document.createElement('button');\n\t\tbutton.className = 'nightly-toggle';\n\t\tbutton.setAttribute('data-nightly-toggle', toggleType);\n\t\tbutton.setAttribute('aria-label', 'Toggle dark mode');\n\n\t\tconst iconSvg = `\n\t\t\t<svg class=\"nightly-icon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n\t\t\t\t<path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"></path>\n\t\t\t</svg>\n\t\t`;\n\n\t\tbutton.innerHTML = iconSvg + (showText ? '<span>Dark Mode</span>' : '');\n\n\t\treturn button;\n\t}\n\n\tcleanup() {\n\t\tif (this.styleElement) {\n\t\t\tthis.styleElement.remove();\n\t\t}\n\t}\n}\n","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.hmd = (module) => {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: () => {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/js/frontend/index.js\");\n",""],"names":["NightlyCore","NightlyFrontend","constructor","options","core","floatingToggle","init","maybeCreateFloatingToggle","document","addEventListener","event","handleCoreChange","detail","updateFloatingToggle","theme","settings","window","nightlySettings","baseColor","floatingBgColor","activeColor","floatingBgColorActive","setAttribute","style","background","floatingIconType","isDark","innerHTML","placeholder","getElementById","getAttribute","createFloatingToggle","autoInject","placeholderSettings","JSON","parse","e","console","warn","position","floating_position","floatingPosition","buttonStyle","floatingButtonStyle","buttonSize","floatingButtonSize","bgColor","floating_bg_color","bgColorHover","floatingBgColorHover","bgColorActive","iconColor","floatingIconColor","iconColorHover","floatingIconColorHover","borderColor","floatingBorderColor","borderWidth","floatingBorderWidth","borderRadius","floatingBorderRadius","iconSize","floatingIconSize","iconType","customIcon","floatingCustomIcon","paddingTop","floatingPaddingTop","paddingBottom","floatingPaddingBottom","paddingLeft","floatingPaddingLeft","paddingRight","floatingPaddingRight","boxShadow","floatingBoxShadow","boxShadowHover","floatingBoxShadowHover","width","floating_width","floatingWidth","height","floating_height","floatingHeight","iconToShow","createSunMoonIcon","createElement","className","cssText","includes","hoverStyles","styleElement","id","textContent","head","appendChild","body","toggleTheme","mode","getCurrentTheme","getCurrentMode","toggleMode","cleanup","remove","nightlyFrontend","initNightly","savedMode","localStorage","getItem","savedTheme","coreOptions","respectSystemPreference","transitionDuration","Math","max","min","ignoreSelectors","auto","intensity","autoIntensity","contrast","autoContrast","brightness","autoBrightness","sepia","autoSepia","setItem","nightlyCore","newSettings","setMode","setTheme","readyState","module","exports","Nightly","Frontend","Core","themes","LIGHT","DARK","modes","AUTO","MANUAL","initialize","initializeCore","loadSavedSettings","setupDynamicStyleInjection","setupSystemPreferenceListener","bindEvents","setTimeout","verifyThemePersistence","currentTheme","getSavedTheme","getSavedMode","saved","systemPref","getSystemPreference","matchMedia","matches","saveTheme","saveMode","documentElement","currentMode","applyDynamicStyles","removeDarkStyles","dispatchChangeEvent","newTheme","newMode","CustomEvent","dispatchEvent","toggle","target","closest","preventDefault","toggleType","mediaQuery","handleChange","existing","css","generateDynamicCSS","error","createToggleButton","showText","button","iconSvg"],"sourceRoot":""}