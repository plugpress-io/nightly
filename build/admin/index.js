(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var l in a)e.o(a,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:a[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,a=window.wp.element,l=window.wp.i18n,n=window.wp.components,o=window.wp.apiFetch;var r=e.n(o);const s=()=>(0,t.createElement)("div",{className:"w-full bg-white border-b border-gray-200"},(0,t.createElement)("div",{className:"mx-auto flex items-center justify-between px-6 py-3"},(0,t.createElement)("div",{className:"flex items-center gap-3"},(0,t.createElement)("span",{className:"text-lg font-semibold text-gray-900"},"Nightly")),(0,t.createElement)("div",{className:"flex items-center gap-6"}))),i=({onClick:e,disabled:a=!1,loading:o=!1,className:r="button button-primary"})=>(0,t.createElement)(n.Button,{variant:"primary",onClick:e,disabled:a||o,className:r,"aria-label":o?(0,l.__)("Saving settings...","nightly"):(0,l.__)("Save settings","nightly")},o&&(0,t.createElement)(n.Spinner,null),o?(0,l.__)("Saving...","nightly"):(0,l.__)("Save Settings","nightly")),c=({activeTab:e,onTabChange:a,saving:n})=>{const o=[{id:"general",label:(0,l.__)("General","nightly")},{id:"design",label:(0,l.__)("Design","nightly")}];return(0,t.createElement)("nav",{className:"flex gap-2","aria-label":"Tabs"},o.map(l=>(0,t.createElement)("button",{key:l.id,onClick:()=>a(l.id),disabled:n,className:(e===l.id?"bg-slate-200":"")+" px-3 py-1 font-medium text-sm transition-colors duration-200 rounded-lg"},l.label)))},m=({label:e,value:a,onChange:l,min:n,max:o,step:r,help:s,disabled:i=!1})=>(0,t.createElement)("div",{className:"space-y-2"},(0,t.createElement)("div",{className:"flex items-center justify-between"},(0,t.createElement)("label",{className:"text-sm font-medium text-gray-700"},e),(0,t.createElement)("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded"},a)),(0,t.createElement)("input",{type:"range",min:n,max:o,step:r,value:a,onChange:e=>l(parseFloat(e.target.value)),disabled:i,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"}),s&&(0,t.createElement)("p",{className:"text-xs text-gray-500"},s)),g=({value:e,onChange:a,disabled:o})=>{const r=[{value:"bottom-right",label:(0,l.__)("Bottom Right","nightly")},{value:"bottom-left",label:(0,l.__)("Bottom Left","nightly")},{value:"top-right",label:(0,l.__)("Top Right","nightly")},{value:"top-left",label:(0,l.__)("Top Left","nightly")}];return(0,t.createElement)(n.SelectControl,{label:(0,l.__)("Position","nightly"),value:e,options:r,onChange:a,disabled:o,className:"w-full"})},d=({localSettings:e,handleSettingChange:a,saving:o})=>(0,t.createElement)("div",{className:"space-y-8"},(0,t.createElement)("div",{className:"space-y-6"},(0,t.createElement)("h2",{className:"text-lg font-medium text-gray-900"},(0,l.__)("Floating Toggle","nightly")),(0,t.createElement)(n.ToggleControl,{label:(0,l.__)("Enable floating toggle","nightly"),help:(0,l.__)("Show a floating toggle button on all pages","nightly"),checked:e.auto_inject||!1,onChange:e=>a("auto_inject",e),disabled:o}),e.auto_inject&&(0,t.createElement)(g,{value:e.floating_position||"bottom-right",onChange:e=>a("floating_position",e),disabled:o}),e.auto_inject&&(0,t.createElement)("div",{className:"space-y-4"},(0,t.createElement)("h3",{className:"text-md font-medium text-gray-800 border-b pb-2"},(0,l.__)("Icon Settings","nightly")),(0,t.createElement)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2"},(0,t.createElement)(m,{label:(0,l.__)("Icon Size (px)","nightly"),value:e.floating_icon_size||24,onChange:e=>a("floating_icon_size",e),min:12,max:48,step:1,help:(0,l.__)("Icon size in pixels","nightly"),disabled:o}),(0,t.createElement)(n.SelectControl,{label:(0,l.__)("Icon Type","nightly"),value:e.floating_icon_type||"moon",options:[{label:(0,l.__)("Moon","nightly"),value:"moon"},{label:(0,l.__)("Sun","nightly"),value:"sun"},{label:(0,l.__)("Sun/Moon","nightly"),value:"sun-moon"},{label:(0,l.__)("Custom","nightly"),value:"custom"}],onChange:e=>a("floating_icon_type",e),disabled:o})),"custom"===e.floating_icon_type&&(0,t.createElement)("div",{className:"space-y-2"},(0,t.createElement)("label",{className:"text-sm font-medium text-gray-700"},(0,l.__)("Custom Icon (Emoji or Unicode)","nightly")),(0,t.createElement)("input",{type:"text",value:e.floating_custom_icon||"ðŸŒ™",onChange:e=>a("floating_custom_icon",e.target.value),placeholder:"ðŸŒ™",disabled:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed"}),(0,t.createElement)("p",{className:"text-xs text-gray-500"},(0,l.__)("Enter an emoji or unicode character","nightly"))))),(0,t.createElement)("div",{className:"space-y-6"},(0,t.createElement)("h2",{className:"text-lg font-medium text-gray-900"},(0,l.__)("System Settings","nightly")),(0,t.createElement)(n.ToggleControl,{label:(0,l.__)("Respect system preference","nightly"),help:(0,l.__)("Use the user's system dark mode setting","nightly"),checked:!1!==e.respect_system_preference,onChange:e=>a("respect_system_preference",e),disabled:o}),(0,t.createElement)(m,{label:(0,l.__)("Transition Duration","nightly"),value:e.transition_duration||200,onChange:e=>a("transition_duration",e),min:0,max:1e3,step:50,help:(0,l.__)("Animation speed in milliseconds","nightly"),disabled:o})),(0,t.createElement)("div",{className:"space-y-4"},(0,t.createElement)("h2",{className:"text-lg font-medium text-gray-900"},(0,l.__)("Dark Mode Type","nightly")),(0,t.createElement)("div",{className:"grid grid-cols-2 lg:grid-cols-2 gap-6 mt-6"},(0,t.createElement)("label",{className:"relative flex cursor-pointer rounded-lg border bg-white p-4 shadow-sm focus:outline-none"},(0,t.createElement)("input",{type:"radio",name:"mode",value:"auto",checked:"auto"===e.mode,onChange:e=>a("mode",e.target.value),disabled:o,className:"sr-only"}),(0,t.createElement)("span",{className:"flex flex-1"},(0,t.createElement)("span",{className:"flex flex-col"},(0,t.createElement)("span",{className:"block text-sm font-medium text-gray-900"},(0,l.__)("Auto Mode","nightly")),(0,t.createElement)("span",{className:"mt-1 flex items-center text-sm text-gray-500"},(0,l.__)("Automatic filter-based dark mode","nightly")))),(0,t.createElement)("span",{className:"h-5 w-5 rounded-full border flex items-center justify-center "+("auto"===e.mode?"bg-blue-600 border-blue-600":"border-gray-300")},"auto"===e.mode&&(0,t.createElement)("span",{className:"h-2 w-2 rounded-full bg-white"}))),(0,t.createElement)("label",{className:"relative flex cursor-pointer rounded-lg border bg-white p-4 shadow-sm focus:outline-none"},(0,t.createElement)("input",{type:"radio",name:"mode",value:"manual",checked:"manual"===e.mode,onChange:e=>a("mode",e.target.value),disabled:o,className:"sr-only"}),(0,t.createElement)("span",{className:"flex flex-1"},(0,t.createElement)("span",{className:"flex flex-col"},(0,t.createElement)("span",{className:"block text-sm font-medium text-gray-900"},(0,l.__)("Custom Mode","nightly")),(0,t.createElement)("span",{className:"mt-1 flex items-center text-sm text-gray-500"},(0,l.__)("Customizable color theme","nightly")))),(0,t.createElement)("span",{className:"h-5 w-5 rounded-full border flex items-center justify-center "+("manual"===e.mode?"bg-blue-600 border-blue-600":"border-gray-300")},"manual"===e.mode&&(0,t.createElement)("span",{className:"h-2 w-2 rounded-full bg-white"}))))),(0,t.createElement)("div",{className:"space-y-4"},(0,t.createElement)("h2",{className:"text-lg font-medium text-gray-900"},(0,l.__)("Default Theme","nightly")),(0,t.createElement)("div",{className:"grid grid-cols-2 lg:grid-cols-2 gap-6 mt-6"},(0,t.createElement)("label",{className:"relative flex cursor-pointer rounded-lg border bg-white p-4 shadow-sm focus:outline-none"},(0,t.createElement)("input",{type:"radio",name:"theme",value:"light",checked:"light"===e.theme,onChange:e=>a("theme",e.target.value),disabled:o,className:"sr-only"}),(0,t.createElement)("span",{className:"flex flex-1"},(0,t.createElement)("span",{className:"flex flex-col"},(0,t.createElement)("span",{className:"block text-sm font-medium text-gray-900"},(0,l.__)("Light Theme","nightly")),(0,t.createElement)("span",{className:"mt-1 flex items-center text-sm text-gray-500"},(0,l.__)("Default light appearance","nightly")))),(0,t.createElement)("span",{className:"h-5 w-5 rounded-full border flex items-center justify-center "+("light"===e.theme?"bg-blue-600 border-blue-600":"border-gray-300")},"light"===e.theme&&(0,t.createElement)("span",{className:"h-2 w-2 rounded-full bg-white"}))),(0,t.createElement)("label",{className:"relative flex cursor-pointer rounded-lg border bg-white p-4 shadow-sm focus:outline-none"},(0,t.createElement)("input",{type:"radio",name:"theme",value:"dark",checked:"dark"===e.theme,onChange:e=>a("theme",e.target.value),disabled:o,className:"sr-only"}),(0,t.createElement)("span",{className:"flex flex-1"},(0,t.createElement)("span",{className:"flex flex-col"},(0,t.createElement)("span",{className:"block text-sm font-medium text-gray-900"},(0,l.__)("Dark Theme","nightly")),(0,t.createElement)("span",{className:"mt-1 flex items-center text-sm text-gray-500"},(0,l.__)("Default dark appearance","nightly")))),(0,t.createElement)("span",{className:"h-5 w-5 rounded-full border flex items-center justify-center "+("dark"===e.theme?"bg-blue-600 border-blue-600":"border-gray-300")},"dark"===e.theme&&(0,t.createElement)("span",{className:"h-2 w-2 rounded-full bg-white"}))))),"auto"===e.mode&&(0,t.createElement)("div",{className:"space-y-4"},(0,t.createElement)("h2",{className:"text-lg font-medium text-gray-900"},(0,l.__)("Auto Mode Settings","nightly")),(0,t.createElement)("div",{className:"grid grid-cols-2 lg:grid-cols-2 gap-6 mt-6"},(0,t.createElement)(m,{label:(0,l.__)("Intensity","nightly"),value:e.auto_intensity||.05,onChange:e=>a("auto_intensity",e),min:0,max:.3,step:.01,help:(0,l.__)("Filter strength","nightly"),disabled:o}),(0,t.createElement)(m,{label:(0,l.__)("Contrast","nightly"),value:e.auto_contrast||1.15,onChange:e=>a("auto_contrast",e),min:1,max:1.5,step:.05,help:(0,l.__)("Text readability","nightly"),disabled:o}),(0,t.createElement)(m,{label:(0,l.__)("Brightness","nightly"),value:e.auto_brightness||.98,onChange:e=>a("auto_brightness",e),min:.9,max:1.1,step:.02,help:(0,l.__)("Overall brightness","nightly"),disabled:o}),(0,t.createElement)(m,{label:(0,l.__)("Warm Tone","nightly"),value:e.auto_sepia||.15,onChange:e=>a("auto_sepia",e),min:0,max:.4,step:.05,help:(0,l.__)("Eye comfort","nightly"),disabled:o}))),"manual"===e.mode&&(0,t.createElement)("div",{className:"space-y-4"},(0,t.createElement)("h2",{className:"text-lg font-medium text-gray-900"},(0,l.__)("Custom Mode","nightly")),(0,t.createElement)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4"},(0,t.createElement)("p",{className:"text-sm text-blue-800"},(0,l.__)("Custom mode uses semantic color tokens for professional styling. Colors are optimized for readability and can be customized in future updates.","nightly")))),(0,t.createElement)("div",{className:"space-y-4"},(0,t.createElement)("h2",{className:"text-lg font-medium text-gray-900"},(0,l.__)("Advanced","nightly")),(0,t.createElement)("div",{className:"space-y-2"},(0,t.createElement)("label",{className:"text-sm font-medium text-gray-700"},(0,l.__)("Ignore Selectors","nightly")),(0,t.createElement)("textarea",{value:e.ignore_selectors||"",onChange:e=>a("ignore_selectors",e.target.value),disabled:o,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:".my-component, #special-widget, .chart-container"}),(0,t.createElement)("p",{className:"text-xs text-gray-500"},(0,l.__)('CSS selectors to exempt from dark mode. Tip: Add class "nightly-ignore" to any HTML element.',"nightly"))))),_=({label:e,value:a,onChange:l,help:n,disabled:o=!1})=>(0,t.createElement)("div",{className:"space-y-2"},(0,t.createElement)("div",{className:"flex items-center justify-between"},(0,t.createElement)("label",{className:"text-sm font-medium text-gray-700"},e),(0,t.createElement)("div",{className:"flex items-center space-x-2"},(0,t.createElement)("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:a}}),(0,t.createElement)("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded font-mono"},a))),(0,t.createElement)("input",{type:"color",value:a,onChange:e=>l(e.target.value),disabled:o,className:"w-full h-10 rounded border border-gray-300 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"}),n&&(0,t.createElement)("p",{className:"text-xs text-gray-500"},n)),u=({label:e,value:a,onChange:l,help:n,disabled:o=!1})=>(0,t.createElement)("div",{className:"space-y-2"},(0,t.createElement)("div",{className:"flex items-center justify-between"},(0,t.createElement)("label",{className:"text-sm font-medium text-gray-700"},e),(0,t.createElement)("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded font-mono"},a)),(0,t.createElement)("input",{type:"text",value:a,onChange:e=>l(e.target.value),disabled:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"3.5rem"}),n&&(0,t.createElement)("p",{className:"text-xs text-gray-500"},n)),h=({label:e,value:a,onChange:l,min:n,max:o,step:r,help:s,disabled:i=!1})=>(0,t.createElement)("div",{className:"space-y-2"},(0,t.createElement)("div",{className:"flex items-center justify-between"},(0,t.createElement)("label",{className:"text-sm font-medium text-gray-700"},e),(0,t.createElement)("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded"},a)),(0,t.createElement)("input",{type:"range",min:n,max:o,step:r,value:a,onChange:e=>l(parseFloat(e.target.value)),disabled:i,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"}),s&&(0,t.createElement)("p",{className:"text-xs text-gray-500"},s)),b=({label:e,value:a,onChange:l,help:n,placeholder:o,disabled:r=!1})=>(0,t.createElement)("div",{className:"space-y-2"},(0,t.createElement)("label",{className:"text-sm font-medium text-gray-700"},e),(0,t.createElement)("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:o,disabled:r,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed"}),n&&(0,t.createElement)("p",{className:"text-xs text-gray-500"},n)),p=({localSettings:e,handleSettingChange:a,saving:o})=>(0,t.createElement)("div",{className:"space-y-8"},e.auto_inject?(0,t.createElement)("div",{className:"space-y-8"},(0,t.createElement)("div",{className:"space-y-6"},(0,t.createElement)("h2",{className:"text-lg font-medium text-gray-900 border-b pb-2"},(0,l.__)("Button Settings","nightly")),(0,t.createElement)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2"},(0,t.createElement)(n.SelectControl,{label:(0,l.__)("Button Style","nightly"),value:e.floating_button_style||"rounded",options:[{label:(0,l.__)("Rounded","nightly"),value:"rounded"},{label:(0,l.__)("Square","nightly"),value:"square"},{label:(0,l.__)("Pill","nightly"),value:"pill"},{label:(0,l.__)("Circle","nightly"),value:"circle"}],onChange:e=>a("floating_button_style",e),disabled:o}),(0,t.createElement)(n.SelectControl,{label:(0,l.__)("Button Size","nightly"),value:e.floating_button_size||"medium",options:[{label:(0,l.__)("Small","nightly"),value:"small"},{label:(0,l.__)("Medium","nightly"),value:"medium"},{label:(0,l.__)("Large","nightly"),value:"large"},{label:(0,l.__)("Extra Large","nightly"),value:"xlarge"}],onChange:e=>a("floating_button_size",e),disabled:o}))),(0,t.createElement)("div",{className:"space-y-6"},(0,t.createElement)("h2",{className:"text-lg font-medium text-gray-900 border-b pb-2"},(0,l.__)("Colors","nightly")),(0,t.createElement)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2"},(0,t.createElement)(_,{label:(0,l.__)("Background Color","nightly"),value:e.floating_bg_color||"#333333",onChange:e=>a("floating_bg_color",e),help:(0,l.__)("Main button background color","nightly"),disabled:o}),(0,t.createElement)(_,{label:(0,l.__)("Hover Background Color","nightly"),value:e.floating_bg_color_hover||"#555555",onChange:e=>a("floating_bg_color_hover",e),help:(0,l.__)("Background color on hover","nightly"),disabled:o})),(0,t.createElement)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2"},(0,t.createElement)(_,{label:(0,l.__)("Active Background Color","nightly"),value:e.floating_bg_color_active||"#79c0ff",onChange:e=>a("floating_bg_color_active",e),help:(0,l.__)("Background color when dark mode is active","nightly"),disabled:o}),(0,t.createElement)(_,{label:(0,l.__)("Icon Color","nightly"),value:e.floating_icon_color||"#ffffff",onChange:e=>a("floating_icon_color",e),help:(0,l.__)("Icon color","nightly"),disabled:o})),(0,t.createElement)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2"},(0,t.createElement)(_,{label:(0,l.__)("Hover Icon Color","nightly"),value:e.floating_icon_color_hover||"#ffffff",onChange:e=>a("floating_icon_color_hover",e),help:(0,l.__)("Icon color on hover","nightly"),disabled:o}),(0,t.createElement)(_,{label:(0,l.__)("Border Color","nightly"),value:e.floating_border_color||"transparent",onChange:e=>a("floating_border_color",e),help:(0,l.__)("Button border color","nightly"),disabled:o}))),(0,t.createElement)("div",{className:"space-y-6"},(0,t.createElement)("h2",{className:"text-lg font-medium text-gray-900 border-b pb-2"},(0,l.__)("Spacing","nightly")),(0,t.createElement)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2"},(0,t.createElement)(h,{label:(0,l.__)("Padding Top (px)","nightly"),value:e.floating_padding_top||12,onChange:e=>a("floating_padding_top",e),min:0,max:50,step:1,help:(0,l.__)("Top padding","nightly"),disabled:o}),(0,t.createElement)(h,{label:(0,l.__)("Padding Bottom (px)","nightly"),value:e.floating_padding_bottom||12,onChange:e=>a("floating_padding_bottom",e),min:0,max:50,step:1,help:(0,l.__)("Bottom padding","nightly"),disabled:o})),(0,t.createElement)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2"},(0,t.createElement)(h,{label:(0,l.__)("Padding Left (px)","nightly"),value:e.floating_padding_left||16,onChange:e=>a("floating_padding_left",e),min:0,max:50,step:1,help:(0,l.__)("Left padding","nightly"),disabled:o}),(0,t.createElement)(h,{label:(0,l.__)("Padding Right (px)","nightly"),value:e.floating_padding_right||16,onChange:e=>a("floating_padding_right",e),min:0,max:50,step:1,help:(0,l.__)("Right padding","nightly"),disabled:o}))),(0,t.createElement)("div",{className:"space-y-6"},(0,t.createElement)("h2",{className:"text-lg font-medium text-gray-900 border-b pb-2"},(0,l.__)("Border & Shadow","nightly")),(0,t.createElement)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2"},(0,t.createElement)(h,{label:(0,l.__)("Border Width (px)","nightly"),value:e.floating_border_width||0,onChange:e=>a("floating_border_width",e),min:0,max:10,step:1,help:(0,l.__)("Border thickness","nightly"),disabled:o}),(0,t.createElement)(h,{label:(0,l.__)("Border Radius (%)","nightly"),value:e.floating_border_radius||50,onChange:e=>a("floating_border_radius",e),min:0,max:50,step:1,help:(0,l.__)("Corner roundness","nightly"),disabled:o})),(0,t.createElement)("div",{className:"grid grid-cols-1 gap-4"},(0,t.createElement)(b,{label:(0,l.__)("Box Shadow","nightly"),value:e.floating_box_shadow||"0 2px 4px rgba(0,0,0,0.1)",onChange:e=>a("floating_box_shadow",e),placeholder:"0 2px 4px rgba(0,0,0,0.1)",help:(0,l.__)("CSS box-shadow value (e.g., 0 2px 4px rgba(0,0,0,0.1))","nightly"),disabled:o}),(0,t.createElement)(b,{label:(0,l.__)("Hover Box Shadow","nightly"),value:e.floating_box_shadow_hover||"0 4px 8px rgba(0,0,0,0.15)",onChange:e=>a("floating_box_shadow_hover",e),placeholder:"0 4px 8px rgba(0,0,0,0.15)",help:(0,l.__)("CSS box-shadow value for hover state","nightly"),disabled:o}))),(0,t.createElement)("div",{className:"space-y-6"},(0,t.createElement)("h2",{className:"text-lg font-medium text-gray-900 border-b pb-2"},(0,l.__)("Size Settings","nightly")),(0,t.createElement)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2"},(0,t.createElement)(u,{label:(0,l.__)("Width","nightly"),value:e.floating_width||"3.5rem",onChange:e=>a("floating_width",e),help:(0,l.__)("Button width (e.g., 3.5rem, 56px)","nightly"),disabled:o}),(0,t.createElement)(u,{label:(0,l.__)("Height","nightly"),value:e.floating_height||"3.5rem",onChange:e=>a("floating_height",e),help:(0,l.__)("Button height (e.g., 3.5rem, 56px)","nightly"),disabled:o})))):(0,t.createElement)("div",{className:"text-center py-12"},(0,t.createElement)("div",{className:"text-gray-400 mb-4"},(0,t.createElement)("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a4 4 0 004-4V5z"}))),(0,t.createElement)("h3",{className:"text-lg font-medium text-gray-900 mb-2"},(0,l.__)("No Design Options Available","nightly")),(0,t.createElement)("p",{className:"text-gray-500 mb-4"},(0,l.__)("Enable the floating toggle in the General tab to access design options.","nightly")),(0,t.createElement)("div",{className:"inline-flex rounded-md shadow"},(0,t.createElement)("span",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-600 bg-blue-50"},(0,l.__)("Go to General Tab","nightly"))))),y=({localSettings:e})=>(0,t.createElement)("div",{className:"lg:col-span-1"},(0,t.createElement)("div",{className:"bg-white border border-gray-200 rounded-lg sticky top-4"},(0,t.createElement)("div",{className:"p-6"},(0,t.createElement)("h3",{className:"text-sm font-medium text-gray-900"},(0,l.__)("Preview","nightly")),(0,t.createElement)("div",{className:"relative bg-gray-100 rounded border overflow-hidden aspect-[16/10]"},(0,t.createElement)("div",{className:"bg-white border-b p-3"},(0,t.createElement)("div",{className:"flex items-center space-x-2"},(0,t.createElement)("div",{className:"w-6 h-6 bg-blue-500 rounded"}),(0,t.createElement)("div",{className:"flex-1"},(0,t.createElement)("div",{className:"h-2 bg-gray-300 rounded w-20"})))),(0,t.createElement)("div",{className:"p-3 space-y-2"},(0,t.createElement)("div",{className:"h-3 bg-gray-300 rounded w-3/4"}),(0,t.createElement)("div",{className:"h-2 bg-gray-200 rounded w-full"}),(0,t.createElement)("div",{className:"h-2 bg-gray-200 rounded w-2/3"})),e.auto_inject&&(0,t.createElement)("div",{className:`absolute border-2 border-white shadow-lg flex items-center justify-center text-white text-xs nightly-button-${e.floating_button_style||"rounded"} nightly-button-${e.floating_button_size||"medium"}`,style:{backgroundColor:e.floating_bg_color||"#333333",color:e.floating_icon_color||"#ffffff",borderColor:e.floating_border_color||"transparent",borderWidth:`${e.floating_border_width||0}px`,borderRadius:"circle"===e.floating_button_style?"50%":"pill"===e.floating_button_style?"50px":"square"===e.floating_button_style?"0":"8px",width:e.floating_width||"3.5rem",height:e.floating_height||"3.5rem",fontSize:`${e.floating_icon_size||24}px`,padding:`${e.floating_padding_top||12}px ${e.floating_padding_right||16}px ${e.floating_padding_bottom||12}px ${e.floating_padding_left||16}px`,boxShadow:e.floating_box_shadow||"0 2px 4px rgba(0,0,0,0.1)",bottom:e.floating_position?.includes("top")?"auto":"8px",right:e.floating_position?.includes("left")?"auto":"8px",left:e.floating_position?.includes("left")?"8px":"auto",top:e.floating_position?.includes("top")?"8px":"auto"}},"custom"===e.floating_icon_type?e.floating_custom_icon||"ðŸŒ™":"sun"===e.floating_icon_type||"sun-moon"===e.floating_icon_type&&"auto"===e.mode?"â˜€ï¸":"ðŸŒ™")),(0,t.createElement)("div",{className:"mt-4 space-y-2"},e.auto_inject?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"text-sm text-gray-600"},(0,t.createElement)("strong",null,(0,l.__)("Position:","nightly"))," ",e.floating_position||"bottom-right"),(0,t.createElement)("div",{className:"text-sm text-gray-600"},(0,t.createElement)("strong",null,(0,l.__)("Style:","nightly"))," ",e.floating_button_style||"rounded"),(0,t.createElement)("div",{className:"text-sm text-gray-600"},(0,t.createElement)("strong",null,(0,l.__)("Size:","nightly"))," ",e.floating_button_size||"medium"),(0,t.createElement)("div",{className:"text-sm text-gray-600"},(0,t.createElement)("strong",null,(0,l.__)("Icon:","nightly"))," ",e.floating_icon_type||"moon"),(0,t.createElement)("div",{className:"text-sm text-gray-600"},(0,t.createElement)("strong",null,(0,l.__)("Background:","nightly")),(0,t.createElement)("span",{className:"ml-2 inline-flex items-center space-x-1"},(0,t.createElement)("div",{className:"w-3 h-3 rounded border",style:{backgroundColor:e.floating_bg_color||"#333333"}}),(0,t.createElement)("code",{className:"text-xs"},e.floating_bg_color||"#333333"))),(0,t.createElement)("div",{className:"text-sm text-gray-600"},(0,t.createElement)("strong",null,(0,l.__)("Dimensions:","nightly"))," ",e.floating_width||"3.5rem"," Ã— ",e.floating_height||"3.5rem")):(0,t.createElement)("div",{className:"text-sm text-gray-500 italic"},(0,l.__)("Enable floating toggle to see preview","nightly")),(0,t.createElement)("div",{className:"text-sm text-gray-600"},(0,t.createElement)("strong",null,(0,l.__)("Mode:","nightly"))," ","auto"===e.mode?(0,l.__)("Auto Mode","nightly"):(0,l.__)("Custom Mode","nightly")))))),f=()=>{const{settings:e,loading:o,error:m,saving:g,saveSettings:_,clearError:u}=(()=>{const[e,t]=(0,a.useState)(null),[n,o]=(0,a.useState)(!0),[s,i]=(0,a.useState)(!1),[c,m]=(0,a.useState)(null),g={auto_inject:!1,floating_position:"bottom-right",respect_system_preference:!0,theme:"light",mode:"manual",transition_duration:200,ignore_selectors:"",floating_button_style:"rounded",floating_button_size:"medium",floating_bg_color:"#333333",floating_bg_color_hover:"#555555",floating_bg_color_active:"#79c0ff",floating_icon_color:"#ffffff",floating_icon_color_hover:"#ffffff",floating_border_color:"transparent",floating_border_width:0,floating_border_radius:50,floating_icon_size:24,floating_icon_type:"sun-moon",floating_custom_icon:"ðŸŒ™",floating_padding_top:12,floating_padding_bottom:12,floating_padding_left:16,floating_padding_right:16,floating_box_shadow:"0 2px 4px rgba(0,0,0,0.1)",floating_box_shadow_hover:"0 4px 8px rgba(0,0,0,0.15)",floating_width:"3.5rem",floating_height:"3.5rem",reader_intensity:.05,reader_contrast:1.15,reader_brightness:.98,reader_sepia:.15,intensity:.88,contrast:1.05,brightness:.85,sepia:.05},d=async()=>{try{o(!0),m(null);const e=await r()({path:"/nightly/v1/settings",method:"GET"});t(e.settings||g)}catch(e){console.error("Failed to load settings:",e),m((0,l.__)("Failed to load settings. Using defaults.","nightly")),t(g)}finally{o(!1)}},_=()=>{m(null)};return(0,a.useEffect)(()=>{d()},[]),{settings:e,loading:n,saving:s,error:c,saveSettings:async e=>{try{i(!0),m(null);const a=await r()({path:"/nightly/v1/settings",method:"POST",data:e});return t(a.settings),a.settings}catch(e){throw console.error("Failed to save settings:",e),m((0,l.__)("Failed to save settings. Please try again.","nightly")),e}finally{i(!1)}},loadSettings:d,retryLoadSettings:async()=>{_(),await d()},clearError:_}})(),[h,b]=(0,a.useState)({}),[f,x]=(0,a.useState)(!1),[E,v]=(0,a.useState)("general");(0,a.useEffect)(()=>{if(e){const t={...e,mode:e.mode||"manual"};b(t),x(!1)}},[e]);const N=(t,a)=>{const l={...h,[t]:a};b(l);const n=Object.keys(l).some(t=>l[t]!==e[t]);x(n)},w=async()=>{try{await _(h),x(!1),C(h)}catch(e){console.error("Failed to save settings:",e)}},C=e=>{try{e.mode&&localStorage.setItem("nightly-mode-preference",e.mode),e.theme&&localStorage.setItem("nightly-theme-preference",e.theme),window.dispatchEvent(new CustomEvent("nightlySettingsChanged",{detail:{settings:e}}))}catch(e){}};return o?(0,t.createElement)("div",{className:"flex flex-col items-center justify-center min-h-screen space-y-4"},(0,t.createElement)(n.Spinner,null),(0,t.createElement)("p",{className:"text-gray-600"},(0,l.__)("Loading settings...","nightly"))):m&&!e?(0,t.createElement)("div",{className:"p-6"},(0,t.createElement)(n.Notice,{status:"error",isDismissible:!1},(0,t.createElement)("p",null,m))):(0,t.createElement)("div",{className:"min-h-screen"},(0,t.createElement)(s,{hasChanges:f,saving:g,onSave:w,version:"1.0.0"}),(0,t.createElement)("div",{className:"w-full max-w-[908px] mx-auto pt-10"},m&&(0,t.createElement)("div",{className:"mb-6"},(0,t.createElement)(n.Notice,{status:"error",onRemove:u},(0,t.createElement)("p",null,m))),(0,t.createElement)("div",{className:"mb-6"},(0,t.createElement)("div",{className:"flex items-center justify-between"},(0,t.createElement)("h1",{className:"text-2xl font-semibold text-gray-900"},(0,l.__)("Dark Mode Settings","nightly")),(0,t.createElement)(i,{onClick:w,disabled:!f||g,loading:g}))),(0,t.createElement)(c,{activeTab:E,onTabChange:v,saving:g}),(0,t.createElement)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6"},(0,t.createElement)("div",{className:"lg:col-span-2"},(0,t.createElement)("div",{className:"bg-white border border-gray-200 rounded-lg"},(0,t.createElement)("div",{className:"p-6"},"general"===E&&(0,t.createElement)(d,{localSettings:h,handleSettingChange:N,saving:g}),"design"===E&&(0,t.createElement)(p,{localSettings:h,handleSettingChange:N,saving:g})))),(0,t.createElement)(y,{localSettings:h}))))};document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("nightly-admin-root");e&&(0,a.createRoot)(e).render((0,t.createElement)(f,null))})})();